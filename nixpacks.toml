[phases.setup]
# ติดตั้ง Node.js 20, Python 3.9, build tools และ Tesseract OCR
nixPkgs = ['nodejs_20', 'python39', 'python39Packages.pip', 'tesseract', 'gcc', 'gnumake']

[phases.install]
# ติดตั้ง Node.js dependencies ใน petizo folder
cmds = ['cd petizo && npm install']

[phases.build]
# สร้าง database และติดตั้ง Python dependencies
cmds = [
  'cd petizo && npm run build',
  'cd petizo/ocr_system && pip install -r requirements.txt --user'
]

[start]
# เริ่ม server จากโฟลเดอร์ petizo
cmd = 'cd petizo && npm start'
