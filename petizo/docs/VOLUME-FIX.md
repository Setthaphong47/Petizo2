# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏≤‡∏¢‡πÉ‡∏ô Railway

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏´‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà Railway redeploy ‡∏´‡∏£‡∏∑‡∏≠ restart

## ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏
Railway ‡πÉ‡∏ä‡πâ ephemeral file system (‡πÑ‡∏ü‡∏•‡πå‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ container restart

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Volume ‡πÉ‡∏ô Railway

1. ‡πÄ‡∏Ç‡πâ‡∏≤ Railway Dashboard ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ Petizo
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **Volumes**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"New Volume"** ‡∏´‡∏£‡∏∑‡∏≠ **"Add Volume"**
4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

```
Volume Name: petizo-data
Mount Path: /app/petizo/data
```

5. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Add"** ‡∏´‡∏£‡∏∑‡∏≠ **"Create Volume"**
6. ‡∏£‡∏≠‡πÉ‡∏´‡πâ Railway redeploy ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Volume ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

‡∏´‡∏•‡∏±‡∏á redeploy ‡πÄ‡∏™‡∏£‡πá‡∏à:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Deployments** ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å deployment ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
2. ‡πÄ‡∏õ‡∏¥‡∏î **Logs** ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:
   ```
   ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
   ‡∏™‡∏£‡πâ‡∏≤‡∏á data/uploads folder ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
   ```

3. ‡∏•‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà
4. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Railway Dashboard ‚Üí **Settings** ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å **"Restart"**
5. ‡∏£‡∏≠ restart ‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‚Üí **‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Upload ‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏°‡∏µ backup:

1. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î database ‡∏à‡∏≤‡∏Å Railway:
   ```bash
   railway run node petizo/download-db.js
   ```

2. ‡πÄ‡∏≠‡∏≤‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏à‡∏≤‡∏Å `petizo/data/uploads/` ‡πÉ‡∏™‡πà‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô local database

3. Upload database ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô Railway ‡∏ú‡πà‡∏≤‡∏ô Volume

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### Mount Path ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- `/app/petizo/data` - **‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á** ‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏±‡πâ‡∏á database ‡πÅ‡∏•‡∏∞ uploads
- `/app/data` - ‡∏ú‡∏¥‡∏î! ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
- `/app/uploads` - ‡∏ú‡∏¥‡∏î! ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà uploads ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Volume
‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô `/app/petizo/data` ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:
```
data/
‚îú‚îÄ‚îÄ petizo.db          # SQLite database
‚îî‚îÄ‚îÄ uploads/           # ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ‚îú‚îÄ‚îÄ photo-*.jpg
    ‚îú‚îÄ‚îÄ proof-*.jpg
    ‚îî‚îÄ‚îÄ blog-*.jpg
```

### Volume Size
- Railway Free tier: 1 GB Volume ‡∏ü‡∏£‡∏µ
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ï‡πá‡∏°: $5/month ‡∏ï‡πà‡∏≠ 1 GB ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### ‡πÄ‡∏ä‡πá‡∏Ñ Volume Usage
‡πÑ‡∏õ‡∏ó‡∏µ‡πà Railway Dashboard ‚Üí Settings ‚Üí Volumes ‚Üí ‡∏î‡∏π‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà

## üö® ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏Å‡∏£‡∏ì‡∏µ‡∏£‡∏π‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏≤‡∏¢
1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Mount Path ‡πÄ‡∏õ‡πá‡∏ô `/app/petizo/data` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà path ‡∏≠‡∏∑‡πà‡∏ô)
2. ‡∏•‡∏≠‡∏á‡∏•‡∏ö Volume ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
3. Redeploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
4. Upload ‡∏£‡∏π‡∏õ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà

### ‡∏Å‡∏£‡∏ì‡∏µ Database ‡∏´‡∏≤‡∏¢
- Mount Path ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô `/app/petizo/data` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ `/app/petizo/data/uploads` ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà‡∏£‡∏π‡∏õ database ‡∏à‡∏∞‡∏´‡∏≤‡∏¢

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs
```bash
# ‡πÉ‡∏ô Railway Logs ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô
‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á data/uploads folder ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢

# ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô error ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ = Volume ‡πÑ‡∏°‡πà work
‚ùå SQLITE_CANTOPEN
‚ùå ENOENT: no such file or directory
```

## üìö ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á
- Railway Volumes: https://docs.railway.app/reference/volumes
- Petizo Deploy Guide: [RAILWAY-DEPLOYMENT.md](./RAILWAY-DEPLOYMENT.md)
